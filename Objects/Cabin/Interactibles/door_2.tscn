[gd_scene load_steps=10 format=3 uid="uid://dsapx2rys4kd8"]

[ext_resource type="PackedScene" uid="uid://c7uu1n85rq4mo" path="res://Assets/Models/Door2.glb" id="1_yw5xc"]
[ext_resource type="Script" uid="uid://6xeppot2oera" path="res://Objects/Cabin/Interactibles/door_2.gd" id="2_y070b"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_mt36e"]
points = PackedVector3Array(-1, -1, -1, 1, -1, -1, -1, -1, 1, -1, 0.999964, -1, 1, -1, 1, 1, 0.999964, -1, -1, 0.999964, 1, -0.302858, 1.15433, -0.594753, 1, 0.999964, 1, 0.302662, 1.15433, -0.594753, -0.302858, 1.15433, 0.594558, 0.302662, 1.15433, 0.594558)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_xtbja"]
points = PackedVector3Array(0.999841, 1, 1, 0.999841, 1, -1, -1, 1, 1, 0.999841, -1, 1, 3.35295, -0.107478, 0.946359, 3.33792, -0.0898591, 0.946359, 3.34308, -0.0820282, 0.944597, 3.3478, -0.075372, 0.939311, 3.3508, -0.071065, 0.93148, 3.35209, -0.0694988, 0.922279, 0.999841, -1, -1, -1, 1, -1, 3.35209, -0.0694988, -0.902506, 3.35037, -0.0718481, -0.917189, 3.34522, -0.0788959, -0.929522, 3.33835, -0.0892717, -0.937745, 3.32977, -0.101605, -0.940486, 3.33449, -0.107478, -0.940486, -1, -1, 1, 3.25422, -0.181872, 0.922279, 3.25379, -0.18011, 0.93148, 3.3508, -0.143892, 0.93148, 3.3478, -0.139389, 0.939311, 3.34308, -0.132733, 0.944597, 3.33792, -0.124902, 0.946359, 3.3654, -0.107478, 0.944597, 3.3757, -0.107478, 0.939311, 3.38257, -0.107478, 0.93148, 3.38514, -0.107478, 0.922279, -1, -1, -1, 3.32977, -0.113156, -0.940486, 3.33835, -0.125489, -0.937745, 3.34522, -0.136061, -0.929522, 3.35037, -0.142913, -0.917189, 3.25379, -0.179131, -0.917189, 3.25422, -0.181872, -0.902506, 3.38514, -0.107478, -0.902506, 3.38085, -0.107478, -0.917189, 3.37012, -0.107478, -0.929522, 3.35381, -0.107478, -0.937745, 3.35209, -0.145458, 0.922279, 3.35209, -0.145458, -0.902506)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_m8vc3"]
points = PackedVector3Array(-1, -1, -1, 1, -1, -1, -1, -1, 1, -1, 0.999964, -1, 1, -1, 1, 1, 0.999964, -1, -1, 0.999964, 1, -0.302858, 1.15433, -0.594753, 1, 0.999964, 1, 0.302662, 1.15433, -0.594753, -0.302858, 1.15433, 0.594558, 0.302662, 1.15433, 0.594558)

[sub_resource type="Animation" id="Animation_y070b"]
resource_name = "Open"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, 0.658441)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Door_2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, -1.0099), Vector3(0, 0, -1.658)]
}

[sub_resource type="Animation" id="Animation_e01t0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0.658441)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Door_2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, -1.50479)]
}

[sub_resource type="Animation" id="Animation_mt36e"]
resource_name = "Close"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0.658441), Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Door_2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, -1.658), Vector3(0, 0, -1.0099)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_e01t0"]
_data = {
&"Close": SubResource("Animation_mt36e"),
&"Open": SubResource("Animation_y070b"),
&"RESET": SubResource("Animation_e01t0")
}

[node name="Door2" instance=ExtResource("1_yw5xc")]
script = ExtResource("2_y070b")

[node name="Door" parent="." index="0"]
transform = Transform3D(0.078125, 0, 0, 0, 1.26563, 0, 0, 0, 0.5, 0, 0, 0.658441)

[node name="StaticBody3D" type="StaticBody3D" parent="Door" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door/StaticBody3D" index="0"]
shape = SubResource("ConvexPolygonShape3D_mt36e")

[node name="StaticBody3D" type="StaticBody3D" parent="Slider_rack" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Slider_rack/StaticBody3D" index="0"]
shape = SubResource("ConvexPolygonShape3D_xtbja")

[node name="Door_2" parent="." index="2"]
transform = Transform3D(-0.078125, 0, -1.62921e-07, 0, 1.26563, 0, 2.54564e-08, 0, -0.5, 0, 0, -1.50479)

[node name="StaticBody3D" type="StaticBody3D" parent="Door_2" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door_2/StaticBody3D" index="0"]
shape = SubResource("ConvexPolygonShape3D_m8vc3")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="3"]
libraries = {
&"": SubResource("AnimationLibrary_e01t0")
}

[node name="Timer" type="Timer" parent="." index="4"]
wait_time = 0.5

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
